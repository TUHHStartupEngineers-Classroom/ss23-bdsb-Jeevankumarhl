{
  "hash": "19a5817b38e28959b48210dab70c48db",
  "result": {
    "markdown": "---\ntitle: \"Data Acquisition\"\nauthor: \"Jeevan Kumar Hemasunder Latha\"\n---\n\n# Challenge 2.1 : Getting data from openweathermap.org using API\n##Load Libraries\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-1_70a6e3166e8b7c53ba8bc6cbe6e1c39b'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(tibble)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(magrittr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'magrittr'\n#> \n#> The following object is masked from 'package:purrr':\n#> \n#>     set_names\n#> \n#> The following object is masked from 'package:tidyr':\n#> \n#>     extract\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(readxl)\nlibrary(lubridate)\nlibrary(httr)\nlibrary(jsonlite)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'jsonlite'\n#> \n#> The following object is masked from 'package:purrr':\n#> \n#>     flatten\n```\n:::\n\n```{.r .cell-code}\nlibrary(rvest)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'rvest'\n#> \n#> The following object is masked from 'package:readr':\n#> \n#>     guess_encoding\n```\n:::\n:::\n\n##Rendering content from openweathermap.org with a personal API key\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-2_58a7bbe7b497880daf3c6d35e536a17b'}\n\n```{.r .cell-code}\nresp <- GET(\"https://api.openweathermap.org/data/2.5/weather?q=Hamburg&appid=2b60954937a5a13b2d465e54edad9aa2\")   #Reading content from the website\nweather_data <- fromJSON(content(resp, \"text\")) %>%  \n  as.data.frame()                               #converting the raw data into text format and creating a data fram\nweather_data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"coord.lon\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"coord.lat\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"weather.id\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"weather.main\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weather.description\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weather.icon\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"base\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"main.temp\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.feels_like\"],\"name\":[9],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"main.temp_min\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.temp_max\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.pressure\"],\"name\":[12],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"main.humidity\"],\"name\":[13],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"visibility\"],\"name\":[14],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"wind.speed\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"wind.deg\"],\"name\":[16],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"all\"],\"name\":[17],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"dt\"],\"name\":[18],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.type\"],\"name\":[19],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.id\"],\"name\":[20],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.country\"],\"name\":[21],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"sys.sunrise\"],\"name\":[22],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.sunset\"],\"name\":[23],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"timezone\"],\"name\":[24],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"id\"],\"name\":[25],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"name\"],\"name\":[26],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"cod\"],\"name\":[27],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"10\",\"2\":\"53.55\",\"3\":\"801\",\"4\":\"Clouds\",\"5\":\"few clouds\",\"6\":\"02d\",\"7\":\"stations\",\"8\":\"290.56\",\"9\":\"290\",\"10\":\"289.03\",\"11\":\"293.24\",\"12\":\"1026\",\"13\":\"63\",\"14\":\"10000\",\"15\":\"8.23\",\"16\":\"280\",\"17\":\"20\",\"18\":\"1685030503\",\"19\":\"1\",\"20\":\"1263\",\"21\":\"DE\",\"22\":\"1684983933\",\"23\":\"1685042914\",\"24\":\"7200\",\"25\":\"2911298\",\"26\":\"Hamburg\",\"27\":\"200\",\"_rn_\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n#Challenge 2.1 : Scraping website of www.rosebikes.de to obtain models and price with an analysis if the prices are reasonable\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-3_bee70008a9b62cd68f06b5682925da52'}\n\n```{.r .cell-code}\nurl <- \"https://www.rosebikes.de/\"\n\n# Website Scraping\nhtml <- read_html(url)\n\nmodel_names <- html %>%           #Finding elements with model names\n  html_nodes(\".products-slider-tile__product-name\") %>%\n  html_text()\n\n\nprices <- html %>%\n  html_nodes(\".product-tile-price__current-value\") %>%   #Obtaining prices for different models\n  html_text()\n\nprice <- gsub(\"[^0-9.,]\", \"\", prices)  \n\ndatabase <- data.frame(   #Converting the database into a data frame\n  Model = model_names,\n  Price = price\n)\nprint(database)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>                                                    Model    Price\n#> 1                                       XLITE 04 Ultegra 3.299,00\n#> 2                                       XLITE 06 Ultegra 3.999,00\n#> 3                                BACKROAD GRX RX810 1x11 2.999,00\n#> 4                                           COUNT SOLO 2   849,00\n#> 5                                            THE BRUCE 2 1.199,00\n#> 6                                  BACKROAD AL GRX RX400 1.999,00\n#> 7                                             SNEAK PLUS 2.399,00\n#> 8                                          ROOT MILLER 1 2.299,00\n#> 9                                        PRO SL DISC 105 1.699,00\n#> 10             BACKROAD Force eTap AXS XPLR 1x12 Limited 4.899,00\n#> 11                                         THRILL HILL 3 3.999,00\n#> 12                            BACKROAD AL GRX RX600 1X11 2.349,00\n#> 13                                   MAYOR PLUS 3 Unisex 4.999,00\n#> 14                             BACKROAD AXS MULLET BUILD 3.999,00\n#> 15                Kettenverschleißlehre mit Kettenhalter     5,45\n#> 16                                   P-BOUNCE Bikeshorts    79,95\n#> 17                              Industrielager 61902-2RS    14,95\n#> 18                            ITAMOS 2 Fahrradhandschuhe    20,95\n#> 19                  SV 42 & 60 28\" Wide Rennrad Schlauch     2,95\n#> 20                          FH-S Halter für Apple AirTag     5,95\n#> 21                          SCORPIONE 3 JERSEY Radtrikot    69,95\n#> 22                        Strada E-Bike XL Fahrradträger   439,95\n#> 23                                 VALDES MTB Bikeshorts    84,95\n#> 24                 Multi Cage CF-1 Flaschenhalter Carbon    11,95\n#> 25                   NECK BRACE DBX 3.5 Nackenprotektor    221,95\n#> 26                                  Fly Tex Trinkflasche     5,95\n#> 27              AIRFLEX CHEST PROTECTOR Protektorenweste   145,95\n#> 28 Grand Prix 5000 Rennradreifen, Faltreifen (Tube-Type)    34,95\n#> 29       Shock Blow - Dämpferpumpe und Federgabelpumpe -    19,95\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}